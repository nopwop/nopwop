!function(e){const o="/nopwop/resources/no-image-icon.png";if(!("nopwopPostsWithCat"in e)){const c=document;function d(e,t){return fetch(`/wp-json/wp/v2/posts?categories=${e}&per_page=${t||50}&_fields=id,featured_media,title,link,excerpt,date`).then(e=>e.json())}function r(t,a,s){let e=null;var n;e=a.featured_media&&0!=a.featured_media?(n=a.featured_media,fetch(`/wp-json/wp/v2/media/${n}`).then(e=>e.json())):Promise.resolve(),e.then(function(i){let e=c.createElement("li");e.classList.add("post-list-item");let l=c.createElement("div");l.classList.add("post-list-container"),e.appendChild(l);{let e=c.createElement("div");e.classList.add("post-list-eyecatch");let t=c.createElement("a");t.classList.add("post-list-eyecatch-link"),t.href=a.link;let n=c.createElement("img");n.classList.add("npwp-thumbnail"),n.src=i?i.media_details.sizes.thumbnail.source_url:s||o,e.appendChild(t).appendChild(n),l.appendChild(e)}{let e=c.createElement("div");e.classList.add("post-list-contents");let t=c.createElement("div");t.classList.add("post-list-date"),t.textContent=a.date.match(new RegExp("[0-9]{4}-[0-9]{2}-[0-9]{2}"));let n=c.createElement("a");n.classList.add("post-list-contents-link"),n.href=a.link;let i=c.createElement("h3");i.classList.add("post-list-header"),i.textContent=a.title.rendered;let s=c.createElement("div");s.classList.add("post-list-desc"),s.innerHTML=a.excerpt.rendered,e.appendChild(t),e.appendChild(n).appendChild(i),e.appendChild(s),l.appendChild(e)}t.appendChild(e)})}function n(e){let t=c.createElement("ul");t.classList.add("nopwop-post-list"),e.parentElement.insertBefore(t,e);var n=e.getAttribute("name"),i=e.getAttribute("slug"),s=e.getAttribute("categoryId");let l=e.getAttribute("defaultImg"),a=e.getAttribute("count");return s?d(s,a).then(function(e){e&&e.forEach(function(e){r(t,e,l)})}):i?fetch(`/wp-json/wp/v2/categories?slug=${i}&_fields=id,name,link,count`).then(e=>e.json()).then(function(e){return e&&0<e.length?d(e[0].id,a):Promise.resolve()}).then(function(e){e&&e.forEach(function(e){r(t,e,l)})}):n?fetch(`/wp-json/wp/v2/categories?search=${n}&_fields=id,name,link,count`).then(e=>e.json()).then(function(e){return e&&0<e.length?d(e[0].id,a):Promise.resolve()}).then(function(e){e&&e.forEach(function(e){r(t,e,l)})}):(n=function(e){let t=c.createElement("div");return t.classList.add("npwp-err-msg"),t.textContent="nopwop: "+e,t}("script タグにカテゴリの指定が見つかりません"),t.appendChild(n)),t}!function(t){let n=c.getElementsByTagName("head");if(0<n.length){let e=c.createElement("link");e.rel="stylesheet",e.href=t,n[0].appendChild(e)}}("/nopwop/src/posts-with-category/nopwop-posts-with-category.css"),window.addEventListener("DOMContentLoaded",e=>{!function(){let e=c.querySelectorAll("script");e.forEach(e=>{let t=e.getAttribute("src");t&&-1!=t.indexOf("nopwop-posts-with-category")&&n(e)})}()}),e.nopwopPostsWithCat={render:function(){}}}}(this);